package dev.hypnotic.module.exploit;

import dev.hypnotic.event.EventTarget;
import dev.hypnotic.event.events.EventReceivePacket;
import dev.hypnotic.module.Category;
import dev.hypnotic.module.Mod;
import net.minecraft.network.packet.c2s.play.ResourcePackStatusC2SPacket;
import net.minecraft.network.packet.c2s.play.ResourcePackStatusC2SPacket.Status;
import net.minecraft.network.packet.s2c.play.ResourcePackSendS2CPacket;

public class ResourcePackSpoof extends Mod {

	public ResourcePackSpoof() {
		super("ResourcePackSpoof", "Makes it so you don't need to accept the server resource pack", Category.EXPLOIT);
	}
	
	@EventTarget
	public void onReceivePacket(EventReceivePacket event) {
		if (mc.player != null && mc.player.networkHandler != null && event.getPacket() instanceof ResourcePackSendS2CPacket) {
			mc.player.networkHandler.sendPacket(new ResourcePackStatusC2SPacket(Status.ACCEPTED));
			mc.player.networkHandler.sendPacket(new ResourcePackStatusC2SPacket(Status.SUCCESSFULLY_LOADED));
		}
	}
}
